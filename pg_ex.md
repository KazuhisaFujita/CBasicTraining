# 情報システム系実験II

### 本実験の目的

本実験を通し，C言語の基礎的なコーディングの仕方とフローチャートを通しプログラミングで必要な論理的な思考を身につけることを目標とする．

### 注意

必ず筆記用具，実験書，プログラミング(C言語)の教科書を持ってくること．

## 第1回 四則演算と変数の型

### 目的
プログラミングでは扱うデータに種類がある．それぞれの特徴を知らなければ，正確なプログラムは作れない．本課題では，簡単な四則演算と変数の型について理解を深めることを目的とする．

### 変数の種類
C言語で扱う変数は大きく整数型，浮動小数型，文字型の3種類ある．整数型の変数には整数を，浮動小数型の変数には自然数を，文字型には文字を格納することができる．プログラミングでは，これらの変数型を用途に応じ適切に使い分ける必要がある．


| データ型 | データ型の名称  |
|:-------:|:------------:|
|short    | 符号付き短整数型|
|int      | 符号付き整数型|
|long int | 符号付き長整数型|
|long long| 符号付き長長整数型|
|float    | 単精度実浮動小数点型|
|double   | 倍精度実浮動小数点型|
|char     | 符号付き文字型|


__課題1.1__ 次の問に答えよ．

1. 数値が255までの変数を作りたい．この場合どの型を用いればよいか答えよ．
2. 数値が255までの変数を作りたい．この場合どの型を用いればよいか答えよ．
3. 数値が255までの変数を作りたい．この場合どの型を用いればよいか答えよ．
4. 数値が255までの変数を作りたい．この場合どの型を用いればよいか答えよ．


### printfの表示

C言語で画面にデータを表示する場合，よくprintfが用いられる．
	printf("変換指定子 ", 変数);
printfで変数の中身を表示するとき，その変数の型に対応した変換指定子を用いないと適切に表示されない．


|   変換指定子  | 意味 |
|:-----------:|:------------:|
| %c | 1文字として出力する|
| %d | 10進数で出力する|
| %x | 16進数で出力する|
| %o | 8進数で出力する|
| %f | -dddd.ddddddの形式で出力する|
| % | 引き数を丸めて-d.ddde$\pm$ddの形で出力する|
| %s | 文字列として出力する|

|   変換指定子  | 意味 |
|:-----------:|:------------:|
| \n | 改行を表示する|
| \t | タブを表示する|
| \s | スペースを表示する|
| \b | ビープを鳴らす|

```c
    #include <stdio.h>
    int main()
    {
        printf("%d\n", 100);
        printf("%f\n", 1.2f);
        printf("%lf\n", 3.14);
        printf("%c\n", 'A');
        printf("%s\n", "Hello");
        printf("%x\n", 0x100);
        printf("%o\n", 0100);
    }
```

__課題1.2__ 次のプログラムを実行し，表示結果を答えよ．

### 四則演算

|   演算子  | 意味 |
|:-----------:|:------------:|
|+|加算|
|-|減算|
|*|乗算|
|/|除算|
|%|剰余算|


```c
/*リスト*/
#include <stdio.h>

int main()
{
    int i = 2, j = 3, k = 5;
    double x;

    x = i / j + j / k + k / i;

    printf("%f\n", x);
}
```


__課題1.3a__ 次のソースコードを実行した場合に表示される値を予想し答えよ．

__課題1.3b__ 実行した場合に表示される値を報告せよ．

__課題1.3b__ 数値をいろいろ変え，出力される値の規則性を答えよ．たとえば四捨五入になるなど．

次のソースコードを実行し表示される値を報告せよ．


__課題1.3b__ このソースコードを実行すると正しい計算結果が出力される．リスト1とリスト2で結果が異なった理由を考え説明せよ．

### 型変換

計算に応じ変数型を適切に用いないと，正確な計算ができない．正確な


__課題__ リストを型変換を利用し計算が正しく行われるよう変更せよ。そして、ソースコードを提出せよ。

### 型変換の応用
前節では正しい型を使わないと正確な計算ができないと説明した。しかし、プログラミングではあえて算数の計算としては不正確な結果を上手く使うことで様々な処理を実現することがある。

型変換を利用し、四捨五入を計算するプログラムを実装する。

## 第2回 フローチャートと条件分岐
### 目的
制御文の一つであるif文を使いこなせるようになることと，フローチャートをかけるようになることを目的とする．

### フローチャートとは

フローチャートとは物事の処理の流れを図で表す際に用いられる．フローチャートは処理の方向を矢印，処理の内容を長方形などの図形で表現する．フローチャートで用いられるの主な要素（図形）とその意味を図に示す．


### if文、else文

```c
if(条件){
	処理1;
}else{
	処理2;
}
```

### 例：絶対値を計算プログラム

絶対値とは，数の大きさであり０からどれだけ離れているかを表している．xの絶対値は，xが正の時xで，xが負の時-xである．では，プログラムで入力した値の絶対値を表示するプログラムを作成する．プログラムを作成する前に，処理の流れを考えてみよう．

入力した値の絶対値を表示するためには次の手順を経る必要がある．
1. 入力値を入れる変数xと絶対値を入れる変数absの宣言をする．
2. 変数ｘに値を入力する．
3. xが正の場合はabsにxの値を入れる．xが負の場合はabsに-xの値を入れる．
4. ｘを表示する．
この手順を，フローチャートに直したものが図である．


### 2つの整数の大小関係を表示するプログラムの作成




### 入れ子（ネスト）構造


```c
if (条件式1){
    if (条件式2){     // ここの「if」は一番上の「if」の入れ子
        if (条件式3){   // ここの「if」は一つ上の「if」と一番上の「if」の入れ子
            処理1;
        }
        処理2;
    }
    処理3;
}
```


#### 成績判定の作成

試験の点数を入力し、対応する成績を表示するプログラムを３種類作成しなさい。

試験は 100 点満点（ 0 点 ～ 100 点）とし、点数と成績の対応を以下のようにします。

* ケース1
    * 60 点以上：“合格”
    * 60 点未満：“不合格”
* ケース2
    * 80 点以上：“たいへんよくできました。”
    * 60 点以上、80 点未満：“よくできました。”
    * 60 点未満：“ざんねんでした。”
* ケース3
    * 80 点以上：“優”
    * 70 点以上、80 点未満：“良”
    * 60 点以上、70 点未満：“可”
    * 60 点未満：“不可”


### else if文


#### お釣り計算



## 第3回 繰り返し処理

### 目的

繰り返し処理に用いられるfor文，while文を使いこなせるようになることが目的である．
### 繰り返しfor

繰り返し処理はあらゆるプログラムのなかでif文とならび最も重要処理なものである。繰り返し処理を実現するための命令はいくらか用意されているが、ここでは代表的なfor文を学ぶ。for文は次のように使用される。
	for(処理1;条件文;処理2){
		処理3;
	}
プログラム内でfor文が実行されると、まず処理1が実行される。その次に
for文の処理をフローチャートで表したものを図に示す。



### while

```c
while(条件){
	処理
}
```
while文は条件が真である限り処理が実行される。

#### 整数の総和

ループ処理を使い、0からNまでの整数の和を求めてみる。


__課題__ 整数Nの階乗とは1*2*...*(n-1)*nのことである。階乗を計算するプログラムを作成し、ソースコードを提出せよ。

### 繰り返し処理と条件処理


__課題2__  nまでの自然数に対しfizz buzzを行え．Fizz Buzzとは，自然数を1から言っていくが，3の倍数のとき数字の代わりにFizzと言い，5の倍数のとき数字の代わりにBuzzと言い，3と5の倍数のとき数字の代わりにFizzBuzzと言う，ことば遊びである（今回はプログラムで行うので，言うところを表示に読み替える）．


## 第4回 じゃんけんプログラムの作成

### 目的

じゃんけんのプログラムを作成を通し，これまで習ったC言語の知識の復習をする．

### じゃんけんプログラム

じゃんけんとは，２人不完全情報ゲームの一つである．じゃんけんは，２人のプレーヤーがグー，チョキ，パーのいずれかの手を同時に出し，グーとチョキが出た場合はグーを出したプレーヤが，チョキとパーが出た場合はチョキを出したプレーヤが，パーとグーが出た場合はパーを出したプレーヤが勝利するゲームである．

本実験では，このゲームをC言語プログラムで実装する．
このゲームをプログラム上で実現する場合は，プレーヤの手を数値で表現する必要がある．今回は，グー，チョキ，パーそれぞれの0，1．2の数値で表すことにする．
これを踏まえ，作られたじゃんけんプログラムをリストに示す．

```c
```

__課題1__ このプログラムのフローチャートをかけ．

__注__ この実験ではじゃんけんの勝敗条件を愚直に記述してあるため，ソースコードが長くなっている，より短く記述することも可能である．余裕が有る場合は，コードを短くする工夫をしてみよう．

### 乱数を使ったじゃんけんプログラム

先ほどのじゃんけんプログラムは，2人のプレイヤーの手を入力する必要があるため，1人で遊べるプログラムにはなっていない．一人で遊べるようにするためには，一人のプレーヤーの手をコンピュータが選ぶように変更する必要がある．コンピュータがプレーヤーの手を決めるときによく用いられるのが乱数である．乱数とは，ある確率に従って生成される数のことである．多くのプログラミングの書籍で乱数と書いてある場合は，すべての数が等しい確率で出現する乱数(一様乱数)のことを示す場合がほとんどである．

乱数を使ったC言語のサンプルプログラムを次に示す．
```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
	printf("%d\n", rand()%3);
}
```
乱数のサンプルプログラムでは，乱数を組み込み関数であるrand()で生成している．rand()は，0からまでの整数のうち1つを返す関数である．それぞれの出現確率は同じ確率である．この関数を使うためには，まずstdlib.hをインクルードする必要がある．

乱数のサンプルプログラムを実行すると，0から2までの数値しか表示されない．これは，rand()関数で生成した整数を3で割った余り(剰余)を表示しているからである．このように，剰余を使えば任意の範囲の整数の乱数を生成できる．

__課題2__ 先ほど作成したじゃんけんプログラムのplayer2の手を乱数で決め，人間とコンピュータがじゃんけんをするプログラムに書き換えよ．そして，そのプログラムを印刷して提出せよ．

### 無限ループとbreak文

次に、3勝したら勝ちになうようじゃんけんプログラムを改造したい。しかし、何回勝負をすれば3勝するかわからないこのように何回ループすれば良いかわからないとき、無限ループを使う場合がある。

__注__ プログラムは必ず停止しなければならない．無限ループは，名前の通り無限にループを繰り返す．brake文を適切に使い必ず終わらす．

__課題3__ 人間がコンピュータに勝つまでじゃんけんを繰り返すプログラムを作成し，ソースコードを提出せよ．ただし，-1を入力した時は終了するようにせよ．

__課題4__ 人間がコンピュータに勝つまでじゃんけんを繰り返すプログラムを作成し，ソースコードを提出せよ．ただし，-1を入力した時は終了するようにせよ．

